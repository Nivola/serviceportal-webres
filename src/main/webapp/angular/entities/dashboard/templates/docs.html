<!--
  ========================LICENSE_START=================================
  Nivola Service Portal Web Resources
  %%
  Copyright (C) 2022 CSI Piemonte
  %%
  SPDX-FileCopyrightText: Copyright 2022 | CSI Piemonte
  SPDX-License-Identifier: EUPL-1.2
  =========================LICENSE_END==================================
  -->

<md-list class="md-dense" flex>
	<md-list-item class="md-2-line" ng-repeat="item in widget.data.documents | filter:filter.content" ng-click="widget.callbacks.onDocumentClick(item)"
	 	ng-if="!widget.data.loading && !widget.data.failed"
	 >
		<div style="min-width:60px;">
			<md-icon ng-if="item.icon">{{item.icon}}</md-icon>
			<md-icon ng-if="!item.icon">insert_drive_file</md-icon>
		</div>
		<div class="md-list-item-text" layout="column">
			<h3 ng-if="item.title">{{ item.title }}</h3>
			<h4 ng-if="item.description" style="margin-top:5px;">{{ item.description }}</h4>
			<p ng-if="item.documentFileName" style="margin-top:5px;">{{ item.documentFileName }}, {{ item.documentSize }} bytes</p>
		</div>
	</md-list-item>
	<md-list-item class="md-2-line" ng-click="null" ng-if="widget.data.loading">
		<div style="min-width:60px;">
			<md-icon>autorenew</md-icon>
		</div>
		<div class="md-list-item-text" layout="column">
			<h3>{{ 'caricamento.in_corso' | translate }}</h3>
			<p style="margin-top:10px;">
				<md-progress-linear md-mode="indeterminate"></md-progress-linear>
			</p>
		</div>
	</md-list-item>
	<md-list-item class="md-2-line" ng-click="null" ng-if="widget.data.failed">
		<div style="min-width:60px;">
			<md-icon style="color:red;">error</md-icon>
		</div>
		<div class="md-list-item-text" layout="column">
			<p style="color:red;">
				caricamento fallito
				<br/>
				controlla la connessione ad internet
			</p>
		</div>
	</md-list-item>
</md-list>
<md-card-actions layout="row" layout-align="end center" require-uc="BOADMIN">
	<md-button class="md-icon-button" aria-label="visualizza tutto" ui-sref="app.documentazione">
		<md-icon>more_horiz</md-icon>
	</md-button>
</md-card-actions>
