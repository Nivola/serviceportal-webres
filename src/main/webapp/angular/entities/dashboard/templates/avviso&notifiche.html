<!--
  ========================LICENSE_START=================================
  Nivola Service Portal Web Resources
  %%
  Copyright (C) 2022 CSI Piemonte
  %%
  SPDX-FileCopyrightText: Copyright 2022 | CSI Piemonte
  SPDX-License-Identifier: EUPL-1.2
  =========================LICENSE_END==================================
  -->
<!-- CARICAMENTO OK -->
<div ng-if="!widget.loading && !widget.failed">
	<md-list class="md-dense" flex>
		<md-list-item class="md-2-line md-long-text" ng-repeat="item in widget.data | orderBy: '-date' | limitTo: 3"
			ng-click="widget.callbacks.onAvvisoClick(item)">
			<md-icon style="min-width:60px;">{{ item.icon }}</md-icon>
			<div class="md-list-item-text" layout="column">
				<h3>{{ item.date  : 'dd/MM/yyyy' }} da {{ item.sender }}</h3>
				<p style="margin-top:10px;">{{ item.content }}</p>
			</div>
		</md-list-item>
	</md-list>
	<md-card-actions layout="row" layout-align="end center">
		<md-button class="md-icon-button" aria-label="visualizza tutto" ui-sref="app.avvisi">
			<md-icon>more_horiz</md-icon>
		</md-button>
	</md-card-actions>
</div>

<!-- STA CARICATO I DATI -->
<div ng-if="widget.loading">
	<md-list class="md-dense" flex>
		<md-list-item class="md-2-line" ng-click="null" >
			<div style="min-width:60px;">
				<md-icon>autorenew</md-icon>
			</div>
			<div class="md-list-item-text" layout="column">
				<h3>{{ 'caricamento.in_corso' | translate }}</h3>
				<p style="margin-top:10px;">
					<md-progress-linear md-mode="indeterminate"></md-progress-linear>
				</p>
			</div>
		</md-list-item>
	</md-list>
</div>

<!-- CARICAMENTO ERRORE -->
<!-- CARICAMENTO ERRORE -->
<div ng-if="widget.failed">
	<md-list class="md-dense" flex>
		<md-list-item class="md-2-line md-long-text">
			<md-icon  style="color: red;">error</md-icon>
			<div class="md-list-item-text" layout="column">
				<h3 style="color: red;">{{ 'caricamento.fallito' | translate }}</h3>
				<p>{{ 'caricamento.controlla' | translate }}</p>
			</div>
		</md-list-item>
	</md-list>
</div>
