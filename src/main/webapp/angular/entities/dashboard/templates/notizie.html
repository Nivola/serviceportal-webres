<!--
  ========================LICENSE_START=================================
  Nivola Service Portal Web Resources
  %%
  Copyright (C) 2022 CSI Piemonte
  %%
  SPDX-FileCopyrightText: Copyright 2022 | CSI Piemonte
  SPDX-License-Identifier: EUPL-1.2
  =========================LICENSE_END==================================
  -->
<md-list class="md-dense" flex>

	<md-list-item class="md-2-line"
		ng-repeat="item in widget.data.news | limitTo: 3"
		ng-click="widget.callbacks.onNewsClick(item)" style="margin-bottom:20px;" ng-if="!widget.data.failed">
		<div style="min-width:60px;">
			<md-icon>rss_feed</md-icon>
		</div>

		<div class="md-list-item-text" layout="column">
			<h3>{{ item.dataPubblicazione | date:'dd/MM/yyyy'}}</h3>
			<h3 style="margin-top:10px;"><b>{{ item.title }}<b></h3>
			<h4 style="margin-top:10px;"><span ng-bind-html="item.content | trustHtml"></span></h4>
			
		</div>
	</md-list-item>
	<md-list-item class="md-2-line" ng-click="null" ng-if="widget.data.loading">
		<div style="min-width:60px;">
			<md-icon>autorenew</md-icon>
		</div>
		<div class="md-list-item-text" layout="column">
			<h3>{{ 'caricamento.in_corso' | translate }}</h3>
			<p style="margin-top:10px;">
				<md-progress-linear md-mode="indeterminate"></md-progress-linear>
			</p>
		</div>
	</md-list-item>
	<md-list-item class="md-2-line" ng-click="null" ng-if="widget.data.failed">
		<div style="min-width:60px;">
			<md-icon style="color:red;">error</md-icon>
		</div>
		<div class="md-list-item-text" layout="column">
			<p style="color:red;">
				caricamento fallito
				<br />
				controlla la connessione ad internet
			</p>
		</div>
	</md-list-item>
</md-list>
<md-card-actions layout="row" layout-align="end center">
	<md-button class="md-icon-button" aria-label="visualizza tutto" ui-sref="app.listNotizie">
		<md-icon>more_horiz</md-icon>
	</md-button>
</md-card-actions>
