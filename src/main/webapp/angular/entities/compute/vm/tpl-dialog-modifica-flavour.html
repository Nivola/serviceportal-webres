<!--
  ========================LICENSE_START=================================
  Nivola Service Portal Web Resources
  %%
  Copyright (C) 2022 CSI Piemonte
  %%
  SPDX-FileCopyrightText: Copyright 2022 | CSI Piemonte
  SPDX-License-Identifier: EUPL-1.2
  =========================LICENSE_END==================================
  -->

<md-dialog aria-label="{{ 'vm.modifica_flavour.titolo' | translate}}">
    <form ng-cloak>
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2>{{ 'vm.modifica_flavour.titolo' | translate}}</h2>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="hide()">
                    <md-icon class="md-icon-button" aria-label="Close dialog">close</md-icon>
                </md-button>
            </div>
        </md-toolbar>

        <md-dialog-content>
            <div flex="100" class="md-dialog-content">
                <table flex md-table md-row-select="options.rowSelection"
                    multiple="{{options.multiSelect}}" ng-model="vm.selectedSize"
                    md-progress="promise">
                    <thead  md-head md-order="query.order">
                        <tr md-row>
                            <th md-column><span>{{ 'vm.modifica_flavour.tipo' | translate}}</span></th>
                            <th md-column><span>{{ 'vm.modifica_flavour.vcpus' | translate}}</span></th>
                            <th md-column><span>{{ 'vm.modifica_flavour.ram' | translate}}</span></th>
                            <!-- <th md-column><span>Disco</span></th> -->
                        </tr>
                    </thead>
                    <tbody md-body>
                        <tr md-row md-select="availableSizing.item"
                            md-auto-select="options.autoSelect" md-on-select="onFlavourSelected" md-on-deselect="onDeselect"
                            ng-repeat="availableSizing in vm.availableSizings | filter:criteriaMatch() | orderBy:['cpusOrderBy','ramOrderBy']">
                            <td md-cell>{{availableSizing.item.nome}}</td>
                            <td md-cell md-numeric>
                                {{availableSizing.item.vcpus}}
                            </td>
                            <td md-cell>
                                {{availableSizing.item.ram}}
                            </td>
                            <!-- <td md-cell>
                                {{availableSizing.disco}}



                                tempObj.ramOrderBy=parseInt(data.ram);
                                tempObj.cpusOrderBy=data.vcpus
                                tempObj.item=data;
                                
                            </td> -->
                        </tr>
                    </tbody>
            </table>
            </div>
        </md-dialog-content>
        <md-dialog-actions layout="row">
            
            <span flex>
                <div layout="row" layout-align="end end">
                    <md-button class="md-raised pull-right md-primary md-hue-2" type="button" ng-click="showConfirm()"   flex="40" ng-disabled="!isSelected" >
                        <md-icon>play_arrow</md-icon> {{ 'modifica' | translate}}
                    </md-button>
                
                </div>
             </span>
        </md-dialog-actions>
    </form>
</md-dialog>
